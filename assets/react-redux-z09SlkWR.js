import{a as g,R as U}from"./react-Jw3Yv3Dx.js";import{w as D}from"./use-sync-external-store-rpec4DOT.js";var s="default"in g?U:g,C=Symbol.for("react-redux-context"),m=typeof globalThis<"u"?globalThis:{};function P(){if(!s.createContext)return{};const e=m[C]??(m[C]=new Map);let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var c=P(),H=()=>{throw new Error("uSES not initialized!")};function x(e=c){return function(){return s.useContext(e)}}var E=x(),R=H,V=e=>{R=e},z=(e,t)=>e===t;function T(e=c){const t=e===c?E:x(e);return function(r,n={}){const{equalityFn:i=z,devModeChecks:a={}}=typeof n=="function"?{equalityFn:n}:n,{store:l,subscription:f,getServerState:o,stabilityCheck:b,identityFunctionCheck:p}=t();s.useRef(!0);const v=s.useCallback({[r.name](d){return r(d)}}[r.name],[r,b,a.stabilityCheck]),S=R(f.addNestedSub,l.getState,o||l.getState,v,i);return s.useDebugValue(S),S}}var J=T();function N(e){e()}function W(){let e=null,t=null;return{clear(){e=null,t=null},notify(){N(()=>{let u=e;for(;u;)u.callback(),u=u.next})},get(){let u=[],r=e;for(;r;)u.push(r),r=r.next;return u},subscribe(u){let r=!0,n=t={callback:u,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!r||e===null||(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var w={notify(){},get:()=>[]};function q(e,t){let u,r=w,n=0,i=!1;function a(y){b();const M=r.subscribe(y);let h=!1;return()=>{h||(h=!0,M(),p())}}function l(){r.notify()}function f(){d.onStateChange&&d.onStateChange()}function o(){return i}function b(){n++,u||(u=t?t.addNestedSub(f):e.subscribe(f),r=W())}function p(){n--,u&&n===0&&(u(),u=void 0,r.clear(),r=w)}function v(){i||(i=!0,b())}function S(){i&&(i=!1,p())}const d={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:o,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>r};return d}var I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O=I?s.useLayoutEffect:s.useEffect;function k(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Q(e,t){if(k(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const u=Object.keys(e),r=Object.keys(t);if(u.length!==r.length)return!1;for(let n=0;n<u.length;n++)if(!Object.prototype.hasOwnProperty.call(t,u[n])||!k(e[u[n]],t[u[n]]))return!1;return!0}function K({store:e,context:t,children:u,serverState:r,stabilityCheck:n="once",identityFunctionCheck:i="once"}){const a=s.useMemo(()=>{const o=q(e);return{store:e,subscription:o,getServerState:r?()=>r:void 0,stabilityCheck:n,identityFunctionCheck:i}},[e,r,n,i]),l=s.useMemo(()=>e.getState(),[e]);O(()=>{const{subscription:o}=a;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),l!==e.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[a,l]);const f=t||c;return s.createElement(f.Provider,{value:a},u)}var X=K;function L(e=c){const t=e===c?E:x(e);return function(){const{store:r}=t();return r}}var _=L();function $(e=c){const t=e===c?_:L(e);return function(){return t().dispatch}}var Y=$(),Z=N;V(D.useSyncExternalStoreWithSelector);export{X as P,J as a,Z as b,_ as c,Q as s,Y as u};
